<ons-page id="cats">
    <script>
        const page = ons.getScriptPage();
        const list = page.querySelector('ons-list');

        //tab is shown
        page.onShow = function () {


            //get new list data
            rpc("cats.get_all", function (result) {

                //clear list
                list.querySelectorAll('ons-list-item').forEach(e => e.remove());

                //fill it
                result.forEach(cat => {
                    e = ons.createElement(/*html*/`
                    <ons-list-item>
                        <div class="center">
                            ${cat.name}
                        </div>
                        <div class="right">
                            ${cat.weight.toFixed(0)+"g"}
                        </div>
                    </ons-list-item>
                    `)

                    list.append(e);
                });


            })

        };
    </script>

    <ons-list>
        <ons-list-header>My cats</ons-list-header>
        <ons-progress-bar indeterminate class="global-progress"></ons-progress-bar>
    </ons-list>

    <ons-fab position="bottom right">
        <ons-icon icon="md-plus"></ons-icon>
    </ons-fab>


</ons-page>