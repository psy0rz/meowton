<ons-page id="sysinfo">

    <script>

        ons.ready(function () {

            var page = ons.getScriptPage();
            var list = page.querySelector('ons-list');

            //tab is shown
            page.onShow = function () {

                //get data from device
                rpc("sysinfo", {}, function (result) {


                    page.querySelector('#version').textContent = result.version;
                    page.querySelector('#uptime').textContent = result.uptime + "s";
                    page.querySelector('#mem').textContent = result.mem.toLocaleString() + " bytes";
                    page.querySelector('#freq').textContent = result.freq/1000000 + " MHz";
                    page.querySelector('#os_machine').textContent = result.os_machine;
                    page.querySelector('#os_version').textContent = result.os_version;


                })

            };



        });

    </script>

    <style>
    </style>

    <ons-toolbar>
        <div class="left">
            <ons-back-button></ons-back-button>
        </div>
        <div class="center">System info</div>


    </ons-toolbar>

    <ons-progress-bar indeterminate class="global-progress"></ons-progress-bar>

    <ons-list>
        <ons-list-item>
            <div class="center">
                Meowton version
            </div>
            <div class="right" id='version'> </div>
        </ons-list-item>
        <ons-list-item>
            <div class="center">
                Micropython version
            </div>
            <div class="right" id='os_version'> </div>
        </ons-list-item>
        <ons-list-item>
            <div class="center">
                Hardware
            </div>
            <div class="right" id='os_machine'> </div>
        </ons-list-item>
        <ons-list-item>
            <div class="center">
                Uptime
            </div>
            <div class="right" id='uptime'> </div>
        </ons-list-item>
        <ons-list-item>
            <div class="center">
                Free memory
            </div>
            <div class="right" id='mem'> </div>
        </ons-list-item>
        <ons-list-item>
            <div class="center">
                CPU Frequency
            </div>
            <div class="right" id='freq'> </div>
        </ons-list-item>


    </ons-list>



</ons-page>